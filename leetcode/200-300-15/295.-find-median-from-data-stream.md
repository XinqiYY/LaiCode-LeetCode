# 295. Find Median from Data Stream

## 题目

![](<../../.gitbook/assets/image (19).png>)

#### Leetcode链接：[https://leetcode.com/problems/find-median-from-data-stream/](https://leetcode.com/problems/find-median-from-data-stream/)

## 解法一

Clarification:&#x20;

Algorithm:&#x20;

1. 使用两个priorityqueue，一个maxHeap，代表着sorted data stream的前半段，minHeap代表着后半段。条件是maxHeap的大小必须>minHeap.size() + 1，或者= minHeap.size()。相等时代表data stream是偶数，那么只需要两边各取栈顶元素/2就好。maxHeap > minHeap \
   \+ 1的话，代表是奇数，只需要返回maxHeap的栈顶元素
2. add(val)
   1. 添加时如果maxHeap是空的或者val < maxHeap的栈顶元素，那么加到maxHeap中。else，加到minHeap中
   2. 添加后如果两者不符合相等或者maxHeap > minHeap + 1的话，balance
      1. 如果minHeap > maxHeap，offer maxHeap from minHeap
      2. 如果maxHeap > minHeap + 1，offer minHeap from maxHeap
3. findMedian()
   1. 如果偶数，两个heap各取栈顶/2
   2. 奇数，返回maxHeap栈顶

#### <mark style="color:red;">注意：</mark>

## 代码

```java
```

#### TC & SC:&#x20;

1. TC: O()
2. SC: O()
